Wi-Fi Activity Detection & Monitoring System
Overview

This project implements a real-time Wi-Fi activity detection system that monitors devices connected to a network and identifies which application or website is being used.
Detected activities are stored directly in MongoDB for live dashboard visualization, reporting, and future anomaly detection.

The system does not inspect packet payloads. It relies on DNS queries, TLS SNI, and HTTP host headers, making it privacy-aware while still effective.

Key Features (Current)

âœ… Live Wi-Fi traffic capture using tshark

âœ… Identify websites and applications (YouTube, WhatsApp, Google, etc.)

âœ… Categorize activity (video, messaging, search, general)

âœ… Store detections directly in MongoDB

âœ… Ready for dashboard integration

âœ… Modular and extensible design

Tech Stack
Backend

Python 3.10+

Tshark (Wireshark CLI)

MongoDB (NoSQL)

Database

MongoDB Community Server

Database: studentapp

Collection: detections

Project Structure
Detection_Management/
â”‚
â”œâ”€â”€ auto_monitor.py          # Main entry point (real-time monitoring)
â”œâ”€â”€ capture.py               # Live packet capture via tshark
â”œâ”€â”€ analyze_activity.py      # Detection + classification logic
â”œâ”€â”€ model.py                 # Activity category rules
â”œâ”€â”€ domain_map.py            # Domain â†’ Application mapping
â”œâ”€â”€ db_client.py             # MongoDB connection handler
â”œâ”€â”€ save_detections_batch.py # MongoDB insert logic
â”œâ”€â”€ README.md
â””â”€â”€ venv/                    # Python virtual environment


âŒ insight_generator.py and generate_summaries.py are intentionally removed
âŒ No CSV files are generated anymore

Prerequisites
System Requirements

Windows 10 / 11

Administrator access

Required Software

Python 3.10+

Wireshark (with Tshark)

MongoDB Community Server

Git

Installation & Setup
1. Clone Repository
git clone <REPO_URL>
cd wifi-management/Backend/Detection_Management

2. Create Virtual Environment
python -m venv venv
venv\Scripts\activate

3. Install Dependencies
pip install pymongo pandas

4. Install & Verify Tshark
tshark --version


If not found:

Ensure Wireshark is installed

Ensure Tshark is added to PATH

5. Install & Start MongoDB
net start MongoDB


Verify:

mongosh

Database Configuration

MongoDB is used directly â€” no CSV or intermediate files.

Database: studentapp
Collection: detections

Example stored document:

{
  "client_ip": "10.62.156.23",
  "domain": "www.youtube.com",
  "app_name": "YouTube",
  "category": "video",
  "timestamp": ISODate("2025-12-12T19:41:32Z"),
  "reason": "video activity",
  "score": 1,
  "details": "domain=www.youtube.com"
}

Running the Project
1. Identify Network Interface
tshark -D


Note the interface name (example: Wi-Fi).

2. Start Real-Time Monitoring
python auto_monitor.py


Output example:

ğŸš€ Real-time monitoring started...
âœ” Stored -> YouTube activity
âœ” Stored -> WhatsApp activity
âœ” Stored -> Google Search activity


Stop anytime:

CTRL + C

Viewing Data in MongoDB
mongosh
use studentapp
db.detections.find().pretty()

How Detection Works (High Level)

capture.py

Uses Tshark to stream DNS / TLS / HTTP metadata

analyze_activity.py

Extracts domain names

Maps domain â†’ app name

Classifies category

Creates detection objects

save_detections_batch.py

Inserts detections directly into MongoDB

auto_monitor.py

Orchestrates live capture + analysis loop

What Is Completed

âœ” Real-time monitoring

âœ” App / website identification

âœ” MongoDB integration

âœ” Dashboard-ready backend

âœ” Clean modular architecture

What Is Pending / Future Scope

â³ Anomaly detection (ML-based)

â³ Automatic user banning

â³ Risk scoring per device

â³ Time-window aggregation

â³ Predictive traffic analysis

â³ Admin-defined policy rules

Privacy Considerations

No payload inspection

No content logging

Only metadata (DNS, SNI, hostnames)

Designed for educational & administrative use

Notes for Evaluators / Mentors

This is rule-based detection, not ML yet

Architecture is ML-ready

MongoDB schema supports real-time dashboards

Scalable for campus / enterprise networks

Author

Capstone Project
Wi-Fi Management & Activity Detection System
Backend: Python + MongoDB
Frontend: React (handled separately)
