ðŸš€ Wi-Fi Activity Detection & Monitoring System

A real-time network monitoring system that captures device activity from Wi-Fi traffic, identifies domains and applications, classifies behavior (video, social, messaging, search, etc.), and stores results in MongoDB for analytics, dashboards, and alerts.

This project replaces CSV-based processing with live packet capture + immediate MongoDB storage, making it suitable for production use, admin dashboards, and student monitoring systems.

ðŸ“Œ Key Features
âœ” 1. Real-Time Wi-Fi Packet Capture

Uses tshark to capture packet metadata from a selected Wi-Fi interface.

Extracts:

Source IP

Domain (DNS, HTTP Host, TLS SNI)

Timestamp

âœ” 2. Automatic Domain â†’ App Mapping

Identifies which app/website was used based on the domain:

Example Domain	Detected App	Category
youtube.com	YouTube	video
whatsapp.com	WhatsApp	messaging
instagram.com	Instagram	social
google.com	Google Search	search

Apps and categories are configurable in model.py & domain_map.py.

âœ” 3. Direct Storage into MongoDB

Every detected event is immediately saved to:

DB: studentapp
Collection: detections


Each document has:

{
  "client_ip": "10.62.156.23",
  "domain": "www.youtube.com",
  "app_name": "YouTube",
  "category": "video",
  "timestamp": "<datetime>"
}


No CSVs required.

âœ” 4. Continuous Monitoring Mode

auto_monitor.py runs indefinitely and captures new events in real time:

No manual triggers needed

Perfect for dashboards or school monitoring systems

ðŸ“‚ Project Structure
Backend/Detection_Management/
â”‚
â”œâ”€â”€ auto_monitor.py            # Main program (real-time monitor)
â”œâ”€â”€ capture.py                 # Tshark live capture (stream mode)
â”œâ”€â”€ analyze_activity.py        # Parses each packet and processes it
â”œâ”€â”€ domain_map.py              # Maps domain â†’ app name
â”œâ”€â”€ model.py                   # Maps domain â†’ category
â”œâ”€â”€ db_client.py               # MongoDB connection helper
â”œâ”€â”€ detection_store.py         # Inserts detections into MongoDB
â””â”€â”€ README.md                  # Project documentation

âš™ï¸ How the System Works
Step 1: Capture packets

tshark extracts domain information from:

DNS Query Name

HTTP Host

TLS SNI

Step 2: Extract domain + categorize

For each packet:

Identify app

Categorize activity

Create a detection event

Step 3: Store in MongoDB

Insert real-time detection into MongoDB.

Step 4: Use data for dashboards

Admin dashboard can fetch:

Most used apps

Time-based activity trends

Student-specific activity logs

Alerts for unusual behavior

ðŸ›  Setup Instructions
1. Install dependencies

Inside the project folder:

pip install -r requirements.txt

2. Install Wireshark + Tshark

Download Wireshark:

https://www.wireshark.org/download.html

Make sure tshark is available in PATH.

3. Install MongoDB

Download MongoDB Community Server:

https://www.mongodb.com/try/download/community

Start MongoDB service:

net start MongoDB

4. Run the monitoring system
python auto_monitor.py


You will see:

ðŸ“¡ Starting live capture on Wi-Fi ...
âœ” Stored -> {...}
âœ” Stored -> {...}
...

ðŸ“Š Viewing Stored Data

Open Mongo shell:

mongosh
use studentapp
db.detections.find().pretty()


Or use MongoDB Compass for GUI.

ðŸ§  Future Enhancements

Based on your project abstract:

To Add Next:

ML-based anomaly detection

Usage pattern prediction

Threat detection model

Device authentication integration

REST API for admin dashboard

Attendance & session tracking

Bandwidth allocation engine
